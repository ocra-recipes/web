\hypertarget{classMIQPController}{\section{\-M\-I\-Q\-P\-Controller \-Class \-Reference}
\label{classMIQPController}\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}}
}


{\ttfamily \#include $<$\-M\-I\-Q\-P\-Controller.\-h$>$}



\-Collaboration diagram for \-M\-I\-Q\-P\-Controller\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=190pt]{classMIQPController__coll__graph}
\end{center}
\end{figure}
\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMIQPController_a73b26ce1edd4ab839826abedcc72a475}{\-M\-I\-Q\-P\-Controller} (int period, \hyperlink{structMIQPParameters}{\-M\-I\-Q\-P\-Parameters} params, ocra\-::\-Model\-::\-Ptr robot\-Model, const \-Eigen\-::\-Matrix\-Xd \&com\-State\-Ref)
\item 
virtual \hyperlink{classMIQPController_a46e1cc8dba1633a49d934aa20730e358}{$\sim$\-M\-I\-Q\-P\-Controller} ()
\item 
virtual bool \hyperlink{classMIQPController_a7e82a26dc823c7f69d00997d0ca98052}{thread\-Init} ()
\item 
virtual void \hyperlink{classMIQPController_a43faa045ed47859b04f39e99805888c1}{thread\-Release} ()
\item 
virtual void \hyperlink{classMIQPController_aa8fd8452a14d8e7731bf45044e1c7a59}{run} ()
\item 
void \hyperlink{classMIQPController_a69b193f0aab0fa0d0ec439b4d1b2a65f}{set\-C\-O\-M\-State\-Ref\-In\-Preview\-Window} (unsigned int k, \-Eigen\-::\-Vector\-Xd \&com\-State\-Ref)
\end{DoxyCompactItemize}
\subsection*{\-Protected \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classMIQPController_a2d882a4cd9e9832d8b9b2ad73111be0f}{set\-Linear\-Part\-Objective\-Function} ()
\item 
void \hyperlink{classMIQPController_ae61af28f2062b4372ce9c5cb37ebb161}{set\-Quadratic\-Part\-Objective\-Function} ()
\item 
void \hyperlink{classMIQPController_a65b06fe436dc1683ac56afcbed2e4cfe}{set\-Constraints\-Matrix} ()
\item 
void \hyperlink{classMIQPController_a3f15855fdab618e9f3b51c2b7df52b4e}{set\-Variables\-Types} (char $\ast$variables\-Types)
\item 
void \hyperlink{classMIQPController_a1bb6f0a6b520aa1ee18fe59c760f8aa8}{set\-Objective\-Function} ()
\item 
\-G\-R\-B\-Var $\ast$ \hyperlink{classMIQPController_a8a4200f8a98ec13b93dfab56eb5cc423}{add\-Variables\-To\-Model} ()
\item 
void \hyperlink{classMIQPController_a2caf42a5b5dcd63d67de57cfbb93c653}{set\-Lower\-And\-Upper\-Bounds} ()
\item 
void \hyperlink{classMIQPController_a8320465a1ec80d0cf7ba0d17652feba5}{update\-State\-Vector} ()
\item 
void \hyperlink{classMIQPController_aea16b6eac86da5330c7ffbfdb9c655f5}{build\-Ah} (int dt, \-Eigen\-::\-Matrix\-Xd \&output)
\item 
void \hyperlink{classMIQPController_afc2df705b1238e2503e35f07e2f8270a}{build\-Bh} (int dt, \-Eigen\-::\-Matrix\-Xd \&output)
\item 
void \hyperlink{classMIQPController_af492dfbff2e211ff1c1351c2193fe669}{build\-Q} (\-Eigen\-::\-Matrix\-Xd \&output)
\item 
void \hyperlink{classMIQPController_a52dc10cbc0941a6e4f4e6ffd462fffce}{build\-T} (\-Eigen\-::\-Matrix\-Xd \&output)
\item 
void \hyperlink{classMIQPController_aa58686fc2883ef2d81d3e6d3554b338d}{build\-C\-\_\-\-H} (\-Eigen\-::\-Matrix\-Xd \&output)
\item 
void \hyperlink{classMIQPController_ac2a454e236bdb3a13b72b6930329f231}{build\-C\-\_\-\-P} (\-Eigen\-::\-Matrix\-Xd \&output)
\item 
void \hyperlink{classMIQPController_a1be33f8ebb313f7ecddd2aa6af4fa62c}{build\-C\-\_\-\-B} (\-Eigen\-::\-Matrix\-Xd \&output)
\item 
void \hyperlink{classMIQPController_ab093df4b1c73c02a97609093fd037345}{build\-H\-\_\-\-N} (\-Eigen\-::\-Matrix\-Xd \&output)
\item 
void \hyperlink{classMIQPController_a3860ad55d43b442069e806764ce48fc4}{build\-Nb} (\-Eigen\-::\-Matrix\-Xd \&output)
\item 
void \hyperlink{classMIQPController_a9dfdebb8c769d380617d47b513d1a2b1}{build\-Sw} (\-Eigen\-::\-Matrix\-Xd \&output)
\item 
void \hyperlink{classMIQPController_aad69912c4251ecb0d1a052131d17a96e}{build\-Preview\-State\-Matrix} (\-Eigen\-::\-Matrix\-Xd \&\-C, \-Eigen\-::\-Matrix\-Xd \&\-P)
\item 
void \hyperlink{classMIQPController_ac170171511569c7d2b9d76ebee30da47}{build\-Preview\-Input\-Matrix} (\-Eigen\-::\-Matrix\-Xd \&\-C, \-Eigen\-::\-Matrix\-Xd \&\-R)
\end{DoxyCompactItemize}
\subsection*{\-Private \-Attributes}
\begin{DoxyCompactItemize}
\item 
ocra\-::\-Model\-::\-Ptr \hyperlink{classMIQPController_a03735ecec3242cdfc9bf8a443c561724}{\-\_\-robot\-Model}
\item 
\hyperlink{structMIQPParameters}{\-M\-I\-Q\-P\-Parameters} \hyperlink{classMIQPController_a23f6caec48541df0ebe3f91189171ce5}{\-\_\-miqp\-Params}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_ab74859a8dd208f3fc7608391d318d469}{\-\_\-com\-State\-Ref}
\item 
int \hyperlink{classMIQPController_aed2ce53008e32e64e107398d85e75170}{\-\_\-period}
\item 
\-G\-R\-B\-Env $\ast$ \hyperlink{classMIQPController_aec530057d97a52549fdc3823a48f73cf}{\-\_\-env}
\item 
\-G\-R\-B\-Model $\ast$ \hyperlink{classMIQPController_a2bafe24633a7f8c9d6211cde12b29a90}{\-\_\-model}
\item 
\-G\-R\-B\-Quad\-Expr \hyperlink{classMIQPController_a4bac1e68bd433553a7c00677bdc496dd}{\-\_\-obj}
\item 
\-G\-R\-B\-Var $\ast$ \hyperlink{classMIQPController_a1143bf95d61a348b08010c909b190029}{\-\_\-vars}
\item 
\-Eigen\-::\-Vector\-Xd \hyperlink{classMIQPController_ac2ec0c5287589fe28f7381ebeaa5f4ef}{\-\_\-linear\-Term\-Trans\-Obj\-Func}
\item 
\-Eigen\-::\-Vector\-Xd \hyperlink{classMIQPController_a532459bb659a1cc39d449fdf3f81c63f}{\-\_\-quadratic\-Term\-Obj\-Func}
\item 
\-Eigen\-::\-Vector\-Xd \hyperlink{classMIQPController_ad3544c00f3515146c1818440905e36cc}{\-\_\-lb}
\item 
\-Eigen\-::\-Vector\-Xd \hyperlink{classMIQPController_aa8407451ad8b20c814b12fef631f43f6}{\-\_\-ub}
\item 
std\-::string \hyperlink{classMIQPController_a2c3ddd93fd843a3a4650314b47436be7}{\-\_\-variables\-Names} \mbox{[}\hyperlink{MIQPController_8h_aa2f26540ce870ca91503bb6746a52e69}{\-I\-N\-P\-U\-T\-\_\-\-V\-E\-C\-T\-O\-R\-\_\-\-S\-I\-Z\-E}\mbox{]}
\item 
\-Eigen\-::\-Vector\-Xd \hyperlink{classMIQPController_ad1c63725dab2ce84382fcb0b071325ed}{\-\_\-xi\-\_\-k}
\item 
\-Eigen\-::\-Vector\-Xd \hyperlink{classMIQPController_a1fdfcba2c7b6422ac8d3b0b6095d7546}{\-\_\-\-X\-\_\-kn}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a388ed1c232c212e171276993b5cb3fec}{\-\_\-\-Ah}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a9a989875871a898f0ad19b441a2c67ba}{\-\_\-\-Bh}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_ac6404f74d6002d6a0ca4bd2d0b41d548}{\-\_\-\-Q}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a1143455ae85d0e221578dbe5d659af1d}{\-\_\-\-T}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a323718c0eaf8c8a7e159ea7f1ef5b72c}{\-\_\-\-C\-\_\-\-H}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a17cf6f8279cf6b2ce333feb9c8fc5a5d}{\-\_\-\-C\-\_\-\-P}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a5c6882cb248e9d16513868fea7835d6e}{\-\_\-\-C\-\_\-\-B}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_afb83c4fddc4adba989506ccc9b62ff1e}{\-\_\-\-P\-\_\-\-H}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a8243f4111abb4ad6c331ac147a844118}{\-\_\-\-P\-\_\-\-P}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a848852d659dff4a566a8dca57819587d}{\-\_\-\-P\-\_\-\-B}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a2207c17eb221166b1bc12fbca976035d}{\-\_\-\-R\-\_\-\-H}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a7cede44e7827c9b4b12f2549714f3adf}{\-\_\-\-R\-\_\-\-P}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a69fbc25a2e2f2392fe0f92c5811c12dd}{\-\_\-\-R\-\_\-\-B}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_ada92fc35065a11b889019f2948c1888d}{\-\_\-\-Sw}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_aaed002a2578a0f83c4ee59516a793f98}{\-\_\-\-Nb}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_ab4b99d844add54fa7ad6ca6b80cab089}{\-\_\-\-H\-\_\-\-N}
\item 
\-Eigen\-::\-Matrix\-Xd \hyperlink{classMIQPController_a7678fd8e1c08986d7ae0dc1a884040e1}{\-\_\-\-Aineq}
\item 
\-Eigen\-::\-Vector\-Xd \hyperlink{classMIQPController_a02d441467a51e81e969163f096d3798a}{\-\_\-\-Bineq}
\item 
\-Eigen\-::\-Gurobi\-Dense \hyperlink{classMIQPController_a6d15db521a6b9c4e0b641709fef77373}{\-\_\-eig\-Gurobi}
\item 
std\-::shared\-\_\-ptr\*
$<$ \hyperlink{classMIQPLinearConstraints}{\-M\-I\-Q\-P\-Linear\-Constraints} $>$ \hyperlink{classMIQPController_affac62ccd729155720b16de3137ef3f5}{\-\_\-constraints}
\item 
\-Eigen\-::\-Vector\-Xd \hyperlink{classMIQPController_a03c53b7f316d43dfe1aa60eba628819c}{\-\_\-\-H\-\_\-\-N\-\_\-r}
\item 
unsigned int \hyperlink{classMIQPController_af60e2d5a786f4af4fa445dea6ba1b625}{\-\_\-k}
\end{DoxyCompactItemize}


\subsection{\-Constructor \& \-Destructor \-Documentation}
\hypertarget{classMIQPController_a73b26ce1edd4ab839826abedcc72a475}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}}
\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-M\-I\-Q\-P\-Controller}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-M\-I\-Q\-P\-Controller\-::\-M\-I\-Q\-P\-Controller} (
\begin{DoxyParamCaption}
\item[{int}]{period, }
\item[{{\bf \-M\-I\-Q\-P\-Parameters}}]{params, }
\item[{ocra\-::\-Model\-::\-Ptr}]{robot\-Model, }
\item[{const \-Eigen\-::\-Matrix\-Xd \&}]{com\-State\-Ref}
\end{DoxyParamCaption}
)}}\label{classMIQPController_a73b26ce1edd4ab839826abedcc72a475}
\-Constructor.


\begin{DoxyParams}{\-Parameters}
{\em period} & \hyperlink{classThread}{\-Thread} period in ms \\
\hline
{\em params} & \-M\-I\-Q\-P parameters  robot\-Model \-Pointer to the robot model instantiated by the containing client (walking-\/client) \\
\hline
{\em com\-State\-Ref} & \-Reference to a matrix of \-Co\-M state references. \-The k-\/th row contains the desired \-Co\-M state at time k \\
\hline
\end{DoxyParams}
\hypertarget{classMIQPController_a46e1cc8dba1633a49d934aa20730e358}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!$\sim$\-M\-I\-Q\-P\-Controller@{$\sim$\-M\-I\-Q\-P\-Controller}}
\index{$\sim$\-M\-I\-Q\-P\-Controller@{$\sim$\-M\-I\-Q\-P\-Controller}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{$\sim$\-M\-I\-Q\-P\-Controller}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-M\-I\-Q\-P\-Controller\-::$\sim$\-M\-I\-Q\-P\-Controller} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classMIQPController_a46e1cc8dba1633a49d934aa20730e358}
\-Destructor 

\subsection{\-Member \-Function \-Documentation}
\hypertarget{classMIQPController_a8a4200f8a98ec13b93dfab56eb5cc423}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!add\-Variables\-To\-Model@{add\-Variables\-To\-Model}}
\index{add\-Variables\-To\-Model@{add\-Variables\-To\-Model}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{add\-Variables\-To\-Model}]{\setlength{\rightskip}{0pt plus 5cm}\-G\-R\-B\-Var $\ast$ {\bf \-M\-I\-Q\-P\-Controller\-::add\-Variables\-To\-Model} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_a8a4200f8a98ec13b93dfab56eb5cc423}
\-Adds variables to the model. \-Sets also the variable types and calls the lower and upper bounds method

\begin{DoxyReturn}{\-Returns}
\-Pointer to object of \-Gurobi variables. 
\end{DoxyReturn}
\begin{DoxyWarning}{\-Warning}
\-To be deprecated if eigen-\/gurobi works fine 
\end{DoxyWarning}
\hypertarget{classMIQPController_aea16b6eac86da5330c7ffbfdb9c655f5}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-Ah@{build\-Ah}}
\index{build\-Ah@{build\-Ah}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-Ah}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-Ah} (
\begin{DoxyParamCaption}
\item[{int}]{dt, }
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_aea16b6eac86da5330c7ffbfdb9c655f5}
\-Builds $A_h$.


\begin{DoxyParams}[1]{\-Parameters}
 & {\em dt} & \hyperlink{classThread}{\-Thread} period in which this class is instantiated. \\
\hline
\mbox{\tt out}  & {\em \-Output} & passed to matrix reference. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_a388ed1c232c212e171276993b5cb3fec}{\-\_\-\-Ah} 
\end{DoxySeeAlso}
\hypertarget{classMIQPController_afc2df705b1238e2503e35f07e2f8270a}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-Bh@{build\-Bh}}
\index{build\-Bh@{build\-Bh}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-Bh}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-Bh} (
\begin{DoxyParamCaption}
\item[{int}]{dt, }
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_afc2df705b1238e2503e35f07e2f8270a}
\-Builds $B_h$.


\begin{DoxyParams}[1]{\-Parameters}
 & {\em dt} & \hyperlink{classThread}{\-Thread} period in which this classed in instantiated. \\
\hline
\mbox{\tt out}  & {\em \-Output} & passed to matrix reference. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_a9a989875871a898f0ad19b441a2c67ba}{\-\_\-\-Bh} 
\end{DoxySeeAlso}
\hypertarget{classMIQPController_a1be33f8ebb313f7ecddd2aa6af4fa62c}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-C\-\_\-\-B@{build\-C\-\_\-\-B}}
\index{build\-C\-\_\-\-B@{build\-C\-\_\-\-B}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-C\-\_\-\-B}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-C\-\_\-\-B} (
\begin{DoxyParamCaption}
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_a1be33f8ebb313f7ecddd2aa6af4fa62c}
\-Builds $\mathbf{C}_B$.

\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_a5c6882cb248e9d16513868fea7835d6e}{\-\_\-\-C\-\_\-\-B} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em \-Output} & passed to matrix reference. \\
\hline
\end{DoxyParams}
\hypertarget{classMIQPController_aa58686fc2883ef2d81d3e6d3554b338d}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-C\-\_\-\-H@{build\-C\-\_\-\-H}}
\index{build\-C\-\_\-\-H@{build\-C\-\_\-\-H}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-C\-\_\-\-H}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-C\-\_\-\-H} (
\begin{DoxyParamCaption}
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_aa58686fc2883ef2d81d3e6d3554b338d}
\-Builds $\mathbf{C}_H$.

\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_a323718c0eaf8c8a7e159ea7f1ef5b72c}{\-\_\-\-C\-\_\-\-H} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em \-Output} & passed to matrix reference. \\
\hline
\end{DoxyParams}
\hypertarget{classMIQPController_ac2a454e236bdb3a13b72b6930329f231}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-C\-\_\-\-P@{build\-C\-\_\-\-P}}
\index{build\-C\-\_\-\-P@{build\-C\-\_\-\-P}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-C\-\_\-\-P}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-C\-\_\-\-P} (
\begin{DoxyParamCaption}
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_ac2a454e236bdb3a13b72b6930329f231}
\-Builds $\mathbf{C}_P$.

\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_a17cf6f8279cf6b2ce333feb9c8fc5a5d}{\-\_\-\-C\-\_\-\-P} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em \-Output} & passed to matrix reference. \\
\hline
\end{DoxyParams}
\hypertarget{classMIQPController_ab093df4b1c73c02a97609093fd037345}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-H\-\_\-\-N@{build\-H\-\_\-\-N}}
\index{build\-H\-\_\-\-N@{build\-H\-\_\-\-N}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-H\-\_\-\-N}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-H\-\_\-\-N} (
\begin{DoxyParamCaption}
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_ab093df4b1c73c02a97609093fd037345}
\-Builds matrix $\mathbf{H}_N$.

\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_ab4b99d844add54fa7ad6ca6b80cab089}{\-\_\-\-H\-\_\-\-N} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em \-Output} & passed to matrix reference. \\
\hline
\end{DoxyParams}
\hypertarget{classMIQPController_a3860ad55d43b442069e806764ce48fc4}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-Nb@{build\-Nb}}
\index{build\-Nb@{build\-Nb}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-Nb}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-Nb} (
\begin{DoxyParamCaption}
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_a3860ad55d43b442069e806764ce48fc4}
\-Builds matrix $\mathbf{N}_b$.


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em \-Output} & passed to matrix reference. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_aaed002a2578a0f83c4ee59516a793f98}{\-\_\-\-Nb} 
\end{DoxySeeAlso}
\hypertarget{classMIQPController_ac170171511569c7d2b9d76ebee30da47}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-Preview\-Input\-Matrix@{build\-Preview\-Input\-Matrix}}
\index{build\-Preview\-Input\-Matrix@{build\-Preview\-Input\-Matrix}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-Preview\-Input\-Matrix}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-Preview\-Input\-Matrix} (
\begin{DoxyParamCaption}
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{\-C, }
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{\-R}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_ac170171511569c7d2b9d76ebee30da47}
\-Builds a \-Preview \-Input \-Matrix for a preview window of size $N$ with the following form \{\-R\} = \mbox{[}\{array\}\{cccc\} \{\-C\}\{\-T\} \& 0 \&  \& 0 $\backslash$ \{\-C\}\{\-Q\}\{\-T\} \& \{\-C\}\{\-T\} \&  \& 0 $\backslash$  \&  \&  \&  $\backslash$ \{\-C\}\{\-Q\}$^\wedge$\{\-N-\/1\}\{\-T\} \& \{\-C\}\{\-Q\}$^\wedge$\{\-N-\/2\}\{\-T\} \&  \& \{\-C\}\{\-T\} \{array\}\mbox{]}


\begin{DoxyParams}[1]{\-Parameters}
 & {\em \-C} & \-Output matrix from a state space representation. \\
\hline
\mbox{\tt out}  & {\em \-R} & \-Output. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_ac6404f74d6002d6a0ca4bd2d0b41d548}{\-\_\-\-Q}, \hyperlink{classMIQPController_a1143455ae85d0e221578dbe5d659af1d}{\-\_\-\-T} 
\end{DoxySeeAlso}
\hypertarget{classMIQPController_aad69912c4251ecb0d1a052131d17a96e}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-Preview\-State\-Matrix@{build\-Preview\-State\-Matrix}}
\index{build\-Preview\-State\-Matrix@{build\-Preview\-State\-Matrix}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-Preview\-State\-Matrix}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-Preview\-State\-Matrix} (
\begin{DoxyParamCaption}
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{\-C, }
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{\-P}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_aad69912c4251ecb0d1a052131d17a96e}
\-Builds a \-Preview \-State \-Matrix for a preview window of size $N$ with the following form\-: \{\-P\} = \mbox{[}\{array\}\{c\} \{\-C\} \{\-Q\} $\backslash$ $\backslash$ \{\-C\} \{\-Q\}$^\wedge$\-N \{array\}\mbox{]}


\begin{DoxyParams}{\-Parameters}
{\em \-C} & \-Output matrix from a state space representation. \\
\hline
{\em \-P} & \-Output. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_ac6404f74d6002d6a0ca4bd2d0b41d548}{\-\_\-\-Q}, \hyperlink{classMIQPController_a1143455ae85d0e221578dbe5d659af1d}{\-\_\-\-T} 
\end{DoxySeeAlso}
\hypertarget{classMIQPController_af492dfbff2e211ff1c1351c2193fe669}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-Q@{build\-Q}}
\index{build\-Q@{build\-Q}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-Q}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-Q} (
\begin{DoxyParamCaption}
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_af492dfbff2e211ff1c1351c2193fe669}
\-Builds the matrix $\mathbf{Q}$.


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em \-Output} & passed to matrix reference. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_ac6404f74d6002d6a0ca4bd2d0b41d548}{\-\_\-\-Q} 
\end{DoxySeeAlso}
\hypertarget{classMIQPController_a9dfdebb8c769d380617d47b513d1a2b1}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-Sw@{build\-Sw}}
\index{build\-Sw@{build\-Sw}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-Sw}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-Sw} (
\begin{DoxyParamCaption}
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_a9dfdebb8c769d380617d47b513d1a2b1}
\-Builds matrix $\mathbf{S}_w$


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em \-Output} & passed to matrix reference. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_ada92fc35065a11b889019f2948c1888d}{\-\_\-\-Sw} 
\end{DoxySeeAlso}
\hypertarget{classMIQPController_a52dc10cbc0941a6e4f4e6ffd462fffce}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!build\-T@{build\-T}}
\index{build\-T@{build\-T}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{build\-T}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::build\-T} (
\begin{DoxyParamCaption}
\item[{\-Eigen\-::\-Matrix\-Xd \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_a52dc10cbc0941a6e4f4e6ffd462fffce}
\-Builds the matrix $\mathbf{T}$.


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em \-Output} & passed to matrix reference. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_a1143455ae85d0e221578dbe5d659af1d}{\-\_\-\-T} 
\end{DoxySeeAlso}
\hypertarget{classMIQPController_aa8fd8452a14d8e7731bf45044e1c7a59}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!run@{run}}
\index{run@{run}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{run}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::run} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classMIQPController_aa8fd8452a14d8e7731bf45044e1c7a59}
\-Main loop of this thread. \-Performs the following operations\-:
\begin{DoxyItemize}
\item \-Updates the state vector.
\item \-Updates the state-\/dependent \-R\-H\-S of the constraints.
\item \-Sets the \char`\"{}moving\char`\"{} \-Co\-M reference in the current preview window.
\item \-Solves the optimization problem.
\item \-Retrieves the solution.
\end{DoxyItemize}

\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_a8320465a1ec80d0cf7ba0d17652feba5}{update\-State\-Vector()}, \hyperlink{classMIQPLinearConstraints_aad3232078ef93e2105a1c619c510f16a}{\-M\-I\-Q\-P\-Linear\-Constraints\-::update\-R\-H\-S()}, \hyperlink{classMIQPController_a69b193f0aab0fa0d0ec439b4d1b2a65f}{set\-C\-O\-M\-State\-Ref\-In\-Preview\-Window()}, \hyperlink{classMIQPController_a2d882a4cd9e9832d8b9b2ad73111be0f}{set\-Linear\-Part\-Objective\-Function()}, \-Eigen\-::\-Gurobi\-Dense\-::solve() 
\end{DoxySeeAlso}
\begin{DoxyRefDesc}{\-Todo}
\item[\hyperlink{todo__todo000006}{\-Todo}]\hyperlink{classMIQPController_a8320465a1ec80d0cf7ba0d17652feba5}{update\-State\-Vector()} needs to be implemented. 

\-Still gotta set the equality constraints such as \-Simultaneity 

\-Watch out! \-\_\-eig\-Gurobi will add a 1/2. \-Therefore the 2. \-Check that this is correct. 

\-: \-The expression for \-\_\-\-H\-\_\-\-N is missing regularization terms \end{DoxyRefDesc}
\hypertarget{classMIQPController_a69b193f0aab0fa0d0ec439b4d1b2a65f}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!set\-C\-O\-M\-State\-Ref\-In\-Preview\-Window@{set\-C\-O\-M\-State\-Ref\-In\-Preview\-Window}}
\index{set\-C\-O\-M\-State\-Ref\-In\-Preview\-Window@{set\-C\-O\-M\-State\-Ref\-In\-Preview\-Window}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{set\-C\-O\-M\-State\-Ref\-In\-Preview\-Window}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::set\-C\-O\-M\-State\-Ref\-In\-Preview\-Window} (
\begin{DoxyParamCaption}
\item[{unsigned int}]{k, }
\item[{\-Eigen\-::\-Vector\-Xd \&}]{com\-State\-Ref}
\end{DoxyParamCaption}
)}}\label{classMIQPController_a69b193f0aab0fa0d0ec439b4d1b2a65f}
\-Takes \-N elements from an original trajectory of desired \-Co\-M states from state k


\begin{DoxyParams}{\-Parameters}
{\em com\-State\-Ref} & \-Sets \-\_\-\-H\-\_\-\-N\-\_\-r for a preview window of size \-N from time k \\
\hline
\end{DoxyParams}
\hypertarget{classMIQPController_a65b06fe436dc1683ac56afcbed2e4cfe}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!set\-Constraints\-Matrix@{set\-Constraints\-Matrix}}
\index{set\-Constraints\-Matrix@{set\-Constraints\-Matrix}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{set\-Constraints\-Matrix}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::set\-Constraints\-Matrix} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_a65b06fe436dc1683ac56afcbed2e4cfe}
\-Technically should set the constraints matrix \-\_\-\-Aineq. /warning \-To be deprecated if eigen-\/gurobi works fine \hypertarget{classMIQPController_a2d882a4cd9e9832d8b9b2ad73111be0f}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!set\-Linear\-Part\-Objective\-Function@{set\-Linear\-Part\-Objective\-Function}}
\index{set\-Linear\-Part\-Objective\-Function@{set\-Linear\-Part\-Objective\-Function}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{set\-Linear\-Part\-Objective\-Function}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::set\-Linear\-Part\-Objective\-Function} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_a2d882a4cd9e9832d8b9b2ad73111be0f}
\-Sets \hyperlink{classMIQPController_ac2ec0c5287589fe28f7381ebeaa5f4ef}{\-\_\-linear\-Term\-Trans\-Obj\-Func}, which corresponds to the linear part of the objective function of the \-M\-I\-Q\-P \hypertarget{classMIQPController_a2caf42a5b5dcd63d67de57cfbb93c653}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!set\-Lower\-And\-Upper\-Bounds@{set\-Lower\-And\-Upper\-Bounds}}
\index{set\-Lower\-And\-Upper\-Bounds@{set\-Lower\-And\-Upper\-Bounds}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{set\-Lower\-And\-Upper\-Bounds}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::set\-Lower\-And\-Upper\-Bounds} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_a2caf42a5b5dcd63d67de57cfbb93c653}
\-Sets \hyperlink{classMIQPController_ad3544c00f3515146c1818440905e36cc}{\-\_\-lb} and \hyperlink{classMIQPController_aa8407451ad8b20c814b12fef631f43f6}{\-\_\-ub} \begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_ad3544c00f3515146c1818440905e36cc}{\-\_\-lb} \hyperlink{classMIQPController_aa8407451ad8b20c814b12fef631f43f6}{\-\_\-ub} 
\end{DoxySeeAlso}
\hypertarget{classMIQPController_a1bb6f0a6b520aa1ee18fe59c760f8aa8}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!set\-Objective\-Function@{set\-Objective\-Function}}
\index{set\-Objective\-Function@{set\-Objective\-Function}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{set\-Objective\-Function}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::set\-Objective\-Function} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_a1bb6f0a6b520aa1ee18fe59c760f8aa8}
\-Sets the objective function with only the quadratic term. \begin{DoxyWarning}{\-Warning}
\-To be deprecated if eigen-\/gurobi works fine 
\end{DoxyWarning}
\hypertarget{classMIQPController_ae61af28f2062b4372ce9c5cb37ebb161}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!set\-Quadratic\-Part\-Objective\-Function@{set\-Quadratic\-Part\-Objective\-Function}}
\index{set\-Quadratic\-Part\-Objective\-Function@{set\-Quadratic\-Part\-Objective\-Function}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{set\-Quadratic\-Part\-Objective\-Function}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::set\-Quadratic\-Part\-Objective\-Function} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_ae61af28f2062b4372ce9c5cb37ebb161}
\-Sets the objective function object for \-Gurobi. /warning \-To be deprecated if eigen-\/gurobi works fine \hypertarget{classMIQPController_a3f15855fdab618e9f3b51c2b7df52b4e}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!set\-Variables\-Types@{set\-Variables\-Types}}
\index{set\-Variables\-Types@{set\-Variables\-Types}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{set\-Variables\-Types}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::set\-Variables\-Types} (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{variables\-Types}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_a3f15855fdab618e9f3b51c2b7df52b4e}
/warning \-To be deprecated if eigen-\/gurobi works fine


\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em variables\-Types} & \-Vector of variables' types \\
\hline
\end{DoxyParams}
\hypertarget{classMIQPController_a7e82a26dc823c7f69d00997d0ca98052}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!thread\-Init@{thread\-Init}}
\index{thread\-Init@{thread\-Init}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{thread\-Init}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf \-M\-I\-Q\-P\-Controller\-::thread\-Init} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classMIQPController_a7e82a26dc823c7f69d00997d0ca98052}
\-Performs all the initialization of the \-M\-I\-Q\-P controller such as\-:
\begin{DoxyItemize}
\item \-Initializing the \-Gurobi model.
\item \-Set lower and upper bounds of the optimization variables.
\item \-Create the \-L\-T\-I matrices of the constraints (inequality and equality constraints).
\item \-Set variable types.
\item \-Setup the eigen-\/gurobi object. 
\end{DoxyItemize}\hypertarget{classMIQPController_a43faa045ed47859b04f39e99805888c1}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!thread\-Release@{thread\-Release}}
\index{thread\-Release@{thread\-Release}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{thread\-Release}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::thread\-Release} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classMIQPController_a43faa045ed47859b04f39e99805888c1}
\-Deallocates in memory. \-In particular, that of the \-Gurobi environment. \hypertarget{classMIQPController_a8320465a1ec80d0cf7ba0d17652feba5}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!update\-State\-Vector@{update\-State\-Vector}}
\index{update\-State\-Vector@{update\-State\-Vector}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{update\-State\-Vector}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-I\-Q\-P\-Controller\-::update\-State\-Vector} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{classMIQPController_a8320465a1ec80d0cf7ba0d17652feba5}
\-Updates the state vector \hyperlink{classMIQPController_ad1c63725dab2ce84382fcb0b071325ed}{\-\_\-xi\-\_\-k}, i.\-e. $xi_k$

\begin{DoxyRefDesc}{\-Todo}
\item[\hyperlink{todo__todo000007}{\-Todo}]\-Update state vector using \-\_\-robot\-Model 

\-Update upper bounds (a, b) 

\-Update rising/falling edges (alpha, beta) 

\-Update \-S\-S/\-D\-S (delta) 

\-Update potential change from \-D\-S to \-S\-S (gamma) \end{DoxyRefDesc}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_ad1c63725dab2ce84382fcb0b071325ed}{\-\_\-xi\-\_\-k} 
\end{DoxySeeAlso}


\subsection{\-Member \-Data \-Documentation}
\hypertarget{classMIQPController_a388ed1c232c212e171276993b5cb3fec}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-Ah@{\-\_\-\-Ah}}
\index{\-\_\-\-Ah@{\-\_\-\-Ah}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-Ah}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-Ah}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a388ed1c232c212e171276993b5cb3fec}
\-State matrix $A_h$ from the \-Co\-M jerk integration scheme.

\[ \mathbf{h}_{k+1} = \mathbf{A}_h \mathbf{h}_k + \mathbf{B}_h \mathbf{u}_k \]

\-It is a constant matrix of size $6\times6$ equal to\-: \[ \mathbf{A_h} = \left[ \begin{array}{ccc} \mathbf{I}_2 & \delta t \mathbf{I}_2 & \frac{\delta t^2}{2} \mathbf{I}_2 \\ 0 & \mathbf{I}_2 & \delta t \mathbf{I}_2 \\ 0 & 0 & \mathbf{I}_2 \end{array} \right] \] \hypertarget{classMIQPController_a7678fd8e1c08986d7ae0dc1a884040e1}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-Aineq@{\-\_\-\-Aineq}}
\index{\-\_\-\-Aineq@{\-\_\-\-Aineq}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-Aineq}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-Aineq}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a7678fd8e1c08986d7ae0dc1a884040e1}
\-Inequality matrix of the \-M\-I\-Q\-P problem, i.\-e. \[ A_{\text{ineq}} x \leq b_{\text{ineq}} \]

\-Set by \hyperlink{classMIQPLinearConstraints_ab556e990dcc0b1fcd152f41a8c00e1f6}{\-M\-I\-Q\-P\-Linear\-Constraints\-::get\-Constraints\-Matrix\-A()}. \hypertarget{classMIQPController_a9a989875871a898f0ad19b441a2c67ba}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-Bh@{\-\_\-\-Bh}}
\index{\-\_\-\-Bh@{\-\_\-\-Bh}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-Bh}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-Bh}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a9a989875871a898f0ad19b441a2c67ba}
\-Input \-Matrix $B_h$ from the \-Co\-M jerk integration scheme.

\[ \mathbf{h}_{k+1} = \mathbf{A}_h \mathbf{h}_k + \mathbf{B}_h \mathbf{u}_k \]

\-It is constant of size $6\times2$ and equal to\-:

\[ \mathbf{B_h} = \left[ \begin{array}{c} \frac{\delta^3}{6}\mathbf{I}_2 \\ \frac{\delta t^2}{2} \mathbf{I}_2 \\ \delta t \mathbf{I}_2 \end{array} \right] \] \hypertarget{classMIQPController_a02d441467a51e81e969163f096d3798a}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-Bineq@{\-\_\-\-Bineq}}
\index{\-\_\-\-Bineq@{\-\_\-\-Bineq}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-Bineq}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Vector\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-Bineq}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a02d441467a51e81e969163f096d3798a}
\-R\-H\-S inequality vector $b_{\text{ineq}}$ of the \-M\-I\-Q\-P problem, i.\-e. \[ A_{\text{ineq}} x \leq b_{\text{ineq}} \]

\-Set by \hyperlink{classMIQPLinearConstraints_abf2bd3e8f0dfa5b919efa1b90b56232a}{\-M\-I\-Q\-P\-Linear\-Constraints\-::get\-R\-H\-S()} \hypertarget{classMIQPController_a5c6882cb248e9d16513868fea7835d6e}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-C\-\_\-\-B@{\-\_\-\-C\-\_\-\-B}}
\index{\-\_\-\-C\-\_\-\-B@{\-\_\-\-C\-\_\-\-B}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-C\-\_\-\-B}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-C\-\_\-\-B}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a5c6882cb248e9d16513868fea7835d6e}
\-Output matrix $\mathbf{C_B}$ of the \-Bo\-S state space representation

\begin{align*} \mathbf{\xi}_{k+1|k} &= \mathbf{Q} \xi_{k|k} + \mathbf{T}\mathcal{X}_{k+1|k} \\ \mathbf{r}_{k|k} & =\mathbf{C}_B \xi_{k|k} \end{align*}

\-Where

\[ \mathbf{C}_B &= \frac{1}{2} \left[ \begin{array}{ccccc} \mathbf{I}_{2\times2} & \mathbf{I}_{2\times2} & \mathbf{0}_{2\times12} \end{array}\right] \] \hypertarget{classMIQPController_a323718c0eaf8c8a7e159ea7f1ef5b72c}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-C\-\_\-\-H@{\-\_\-\-C\-\_\-\-H}}
\index{\-\_\-\-C\-\_\-\-H@{\-\_\-\-C\-\_\-\-H}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-C\-\_\-\-H}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-C\-\_\-\-H}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a323718c0eaf8c8a7e159ea7f1ef5b72c}
\-Output matrix $\mathbf{C}_H$ of the \-Co\-M state space representation

\begin{align*} \mathbf{\xi}_{k+1|k} &= \mathbf{Q} \xi_{k|k} + \mathbf{T}\mathcal{X}_{k+1|k} \\ \hat{\mathbf{h}}_k & =\mathbf{C}_H \xi_{k|k} \end{align*}

\-Where

\[ \mathbf{C}_H = \left[ \begin{array}{cc} \mathbf{0}_{6\times10} & \mathbf{I}_{6\times6} \end{array} \right] \] \hypertarget{classMIQPController_a17cf6f8279cf6b2ce333feb9c8fc5a5d}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-C\-\_\-\-P@{\-\_\-\-C\-\_\-\-P}}
\index{\-\_\-\-C\-\_\-\-P@{\-\_\-\-C\-\_\-\-P}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-C\-\_\-\-P}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-C\-\_\-\-P}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a17cf6f8279cf6b2ce333feb9c8fc5a5d}
\-Output matrix $\mathbf{C_P}$ of the \-Co\-P state space representation

\begin{align*} \mathbf{\xi}_{k+1|k} &= \mathbf{Q} \xi_{k|k} + \mathbf{T}\mathcal{X}_{k+1|k} \\ \mathbf{p}_{k|k} & =\mathbf{C}_P \xi_{k|k} \end{align*}

\-Where

\[ \mathbf{C}_P = \left[ \begin{array}{ccccc} \mathbf{0}_{2\times10} & \mathbf{I}_{2\times2} & \mathbf{0}_{2\times2} & -\frac{c_z}{g}\mathbf{I}_{2\times2} \end{array}\right] \] \hypertarget{classMIQPController_ab74859a8dd208f3fc7608391d318d469}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-com\-State\-Ref@{\-\_\-com\-State\-Ref}}
\index{\-\_\-com\-State\-Ref@{\-\_\-com\-State\-Ref}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-com\-State\-Ref}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-com\-State\-Ref}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_ab74859a8dd208f3fc7608391d318d469}
\-Matrix of \-Co\-M state references. \-Every row corresponds to the \-Co\-M state at a given time step. \hypertarget{classMIQPController_affac62ccd729155720b16de3137ef3f5}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-constraints@{\-\_\-constraints}}
\index{\-\_\-constraints@{\-\_\-constraints}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-constraints}]{\setlength{\rightskip}{0pt plus 5cm}std\-::shared\-\_\-ptr$<${\bf \-M\-I\-Q\-P\-Linear\-Constraints}$>$ {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-constraints}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_affac62ccd729155720b16de3137ef3f5}
\-Linear constraints object \hypertarget{classMIQPController_a6d15db521a6b9c4e0b641709fef77373}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-eig\-Gurobi@{\-\_\-eig\-Gurobi}}
\index{\-\_\-eig\-Gurobi@{\-\_\-eig\-Gurobi}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-eig\-Gurobi}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Gurobi\-Dense {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-eig\-Gurobi}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a6d15db521a6b9c4e0b641709fef77373}
eigen-\/gurobi object \hypertarget{classMIQPController_aec530057d97a52549fdc3823a48f73cf}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-env@{\-\_\-env}}
\index{\-\_\-env@{\-\_\-env}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-env}]{\setlength{\rightskip}{0pt plus 5cm}\-G\-R\-B\-Env$\ast$ {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-env}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_aec530057d97a52549fdc3823a48f73cf}
\-Gurobi environment. \-Necessary before setting up the gurobi model \hypertarget{classMIQPController_ab4b99d844add54fa7ad6ca6b80cab089}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-H\-\_\-\-N@{\-\_\-\-H\-\_\-\-N}}
\index{\-\_\-\-H\-\_\-\-N@{\-\_\-\-H\-\_\-\-N}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-H\-\_\-\-N}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-H\-\_\-\-N}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_ab4b99d844add54fa7ad6ca6b80cab089}
\-Positive definite matrix $H_N$ with the coefficients of the quadratic objective of the \-M\-I\-Q\-P for the walking \-M\-P\-C problem\-: \[ \underset{\mathcal{X}}{\text{min}} \; \mathcal{X}^T \mathbf{H}_N \mathcal{X} + \mathbf{d}^T \mathcal{X} \]

\-For the time being this is\-:

\[ \mathbf{R}_H^T \mathbf{S}_w \mathbf{R}_H + (\mathbf{R}_P - \mathbf{R}_B)^T \mathbf{N}_b (\mathbf{R}_P - \mathbf{R}_B) \] \-But this expression is missing the regularizing terms of the cost function. \-Current size is $12N\times12N$ \hypertarget{classMIQPController_a03c53b7f316d43dfe1aa60eba628819c}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-H\-\_\-\-N\-\_\-r@{\-\_\-\-H\-\_\-\-N\-\_\-r}}
\index{\-\_\-\-H\-\_\-\-N\-\_\-r@{\-\_\-\-H\-\_\-\-N\-\_\-r}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-H\-\_\-\-N\-\_\-r}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Vector\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-H\-\_\-\-N\-\_\-r}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a03c53b7f316d43dfe1aa60eba628819c}
\-Reference \-Co\-M state in preview window. \-Size\-: \mbox{[}6\-N\mbox{]} \hypertarget{classMIQPController_af60e2d5a786f4af4fa445dea6ba1b625}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-k@{\-\_\-k}}
\index{\-\_\-k@{\-\_\-k}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-k}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-k}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_af60e2d5a786f4af4fa445dea6ba1b625}
\-Current iteration \hypertarget{classMIQPController_ad3544c00f3515146c1818440905e36cc}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-lb@{\-\_\-lb}}
\index{\-\_\-lb@{\-\_\-lb}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-lb}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Vector\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-lb}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_ad3544c00f3515146c1818440905e36cc}
\-Vector of lower bounds of the input vector $\mathcal{X}$ \hypertarget{classMIQPController_ac2ec0c5287589fe28f7381ebeaa5f4ef}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-linear\-Term\-Trans\-Obj\-Func@{\-\_\-linear\-Term\-Trans\-Obj\-Func}}
\index{\-\_\-linear\-Term\-Trans\-Obj\-Func@{\-\_\-linear\-Term\-Trans\-Obj\-Func}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-linear\-Term\-Trans\-Obj\-Func}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Vector\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-linear\-Term\-Trans\-Obj\-Func}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_ac2ec0c5287589fe28f7381ebeaa5f4ef}
\-Containts the state-\/dependent coefficients of the linear term of the objective function of the \-M\-I\-Q\-P for the walking \-M\-P\-C problem.

\[ \underset{\mathcal{X}}{\text{min}} \; \mathcal{X}^T \mathbf{H}_N \mathcal{X} + \mathbf{d}^T \mathcal{X} \]

\-For the time being, it does not contain any resulting term from regularizing terms.

\[ \mathbf{d}^T = -2(\mathbf{H}_N^r - \mathbf{P}_H \xi_k)^T \mathbf{S}_w \mathbf{R}_H + 2[(\mathbf{P}_P - \mathbf{P}_B) \xi_k]^T \mathbf{N}_b(\mathbf{R}_P - \mathbf{R}_B) \]

\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_a2d882a4cd9e9832d8b9b2ad73111be0f}{set\-Linear\-Part\-Objective\-Function()} 
\end{DoxySeeAlso}
\hypertarget{classMIQPController_a23f6caec48541df0ebe3f91189171ce5}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-miqp\-Params@{\-\_\-miqp\-Params}}
\index{\-\_\-miqp\-Params@{\-\_\-miqp\-Params}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-miqp\-Params}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-M\-I\-Q\-P\-Parameters} {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-miqp\-Params}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a23f6caec48541df0ebe3f91189171ce5}
\-Object containing basic \-M\-I\-Q\-P parameters. \hypertarget{classMIQPController_a2bafe24633a7f8c9d6211cde12b29a90}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-model@{\-\_\-model}}
\index{\-\_\-model@{\-\_\-model}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-model}]{\setlength{\rightskip}{0pt plus 5cm}\-G\-R\-B\-Model$\ast$ {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-model}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a2bafe24633a7f8c9d6211cde12b29a90}
\-Gurobi model. \-It is built by adding variables and constraints to it and it can be asked to perform the optimization or integrate model changes. \hypertarget{classMIQPController_aaed002a2578a0f83c4ee59516a793f98}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-Nb@{\-\_\-\-Nb}}
\index{\-\_\-\-Nb@{\-\_\-\-Nb}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-Nb}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-Nb}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_aaed002a2578a0f83c4ee59516a793f98}
$N_b$ is a diagonal weighting matrix whose scalar weights help define the compromise between balance robustness and tracking performance. \hypertarget{classMIQPController_a4bac1e68bd433553a7c00677bdc496dd}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-obj@{\-\_\-obj}}
\index{\-\_\-obj@{\-\_\-obj}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-obj}]{\setlength{\rightskip}{0pt plus 5cm}\-G\-R\-B\-Quad\-Expr {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-obj}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a4bac1e68bd433553a7c00677bdc496dd}
\-Objective function as a \-G\-R\-B\-Qad\-Expr object. \-Consists of a linear expression, plus a list of coefficient-\/variable-\/variable triples that capture the quadratic terms. \hypertarget{classMIQPController_a848852d659dff4a566a8dca57819587d}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-P\-\_\-\-B@{\-\_\-\-P\-\_\-\-B}}
\index{\-\_\-\-P\-\_\-\-B@{\-\_\-\-P\-\_\-\-B}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-P\-\_\-\-B}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-P\-\_\-\-B}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a848852d659dff4a566a8dca57819587d}
\-Matrix $\mathbf{P}_B$ in the equation for the preview center of \-Bo\-S output matrix $\mathbf{R}_{k,N} = \left\{ \mathbf{r}_{k+1|k}, \mathbf{r}_{k+2|k}, \dots, \mathbf{r}_{k+N|k} \right\}$

\-For a preview window of size $N$\-:

\[ \mathbf{R}_{k,N} = \mathbf{R}_B \mathbf{\xi}_k + \mathbf{R}_B \mathcal{X}_{k,N} \] \-Where\-: \[ \mathbf{P}_B = \left[\begin{array}{c} \mathbf{C}_B \mathbf{Q} \\ \vdots\\ \mathbf{C}_B \mathbf{Q}^N \end{array}\right] \] \hypertarget{classMIQPController_afb83c4fddc4adba989506ccc9b62ff1e}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-P\-\_\-\-H@{\-\_\-\-P\-\_\-\-H}}
\index{\-\_\-\-P\-\_\-\-H@{\-\_\-\-P\-\_\-\-H}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-P\-\_\-\-H}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-P\-\_\-\-H}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_afb83c4fddc4adba989506ccc9b62ff1e}
\-Matrix $\mathbf{P}_H$ in the equation for the preview \-Co\-M output matrix $\mathbf{H}_{k,N} = \left\{ \mathbf{h}_{k+1|k}, \mathbf{h}_{k+2|k}, \dots, \mathbf{h}_{k+N|k} \right\}$.

\-For a preview window of size $N$\-: \[ \mathbf{H}_{k,N} = \mathbf{P}_H \mathbf{\xi}_k + \mathbf{R}_H \mathcal{X}_{k,N} \] \-Where\-: \begin{align*} \mathbf{P}_H = \left[\begin{array}{c} \mathbf{C}_H \mathbf{Q} \\ \vdots\\ \mathbf{C}_H \mathbf{Q}^N \end{array}\right] \end{align*} \hypertarget{classMIQPController_a8243f4111abb4ad6c331ac147a844118}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-P\-\_\-\-P@{\-\_\-\-P\-\_\-\-P}}
\index{\-\_\-\-P\-\_\-\-P@{\-\_\-\-P\-\_\-\-P}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-P\-\_\-\-P}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-P\-\_\-\-P}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a8243f4111abb4ad6c331ac147a844118}
\-Matrix $\mathbf{P}_p$ in the equation for the preview \-Co\-P output matrix $\mathbf{P}_{k,N} = \left\{ \mathbf{p}_{k+1|k}, \mathbf{p}_{k+2|k}, \dots, \mathbf{p}_{k+N|k} \right\}$.

\-For a preview window of size $N$\-: \[ \mathbf{P}_{k,N} = \mathbf{P}_p \mathbf{\xi}_k + \mathbf{R}_p \mathcal{X}_{k,N} \] \-Where\-: \begin{align*} \mathbf{P}_P = \left[\begin{array}{c} \mathbf{C}_P \mathbf{Q} \\ \vdots\\ \mathbf{C}_P \mathbf{Q}^N \end{array}\right] \end{align*} \hypertarget{classMIQPController_aed2ce53008e32e64e107398d85e75170}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-period@{\-\_\-period}}
\index{\-\_\-period@{\-\_\-period}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-period}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-period}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_aed2ce53008e32e64e107398d85e75170}
\hyperlink{classThread}{\-Thread} period in milliseconds \hypertarget{classMIQPController_ac6404f74d6002d6a0ca4bd2d0b41d548}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-Q@{\-\_\-\-Q}}
\index{\-\_\-\-Q@{\-\_\-\-Q}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-Q}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-Q}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_ac6404f74d6002d6a0ca4bd2d0b41d548}
\-Matrix $\mathbf{Q}$ in preview state model\-: \[ \mathbf{\xi}_{k+1|k} = \mathbf{Q} \xi_{k|k} + \mathbf{T}\mathcal{X}_{k+1|k} \] \[ \mathbf{Q} = \left[\begin{array}{cc} \mathbf{I}_{10\times10} & \mathbf{0}_{10\times6}\\ \mathbf{0}_{6\times10} & \mathbf{A_h}_{6\times6} \end{array}\right] \] \hypertarget{classMIQPController_a532459bb659a1cc39d449fdf3f81c63f}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-quadratic\-Term\-Obj\-Func@{\-\_\-quadratic\-Term\-Obj\-Func}}
\index{\-\_\-quadratic\-Term\-Obj\-Func@{\-\_\-quadratic\-Term\-Obj\-Func}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-quadratic\-Term\-Obj\-Func}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Vector\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-quadratic\-Term\-Obj\-Func}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a532459bb659a1cc39d449fdf3f81c63f}
\hypertarget{classMIQPController_a69fbc25a2e2f2392fe0f92c5811c12dd}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-R\-\_\-\-B@{\-\_\-\-R\-\_\-\-B}}
\index{\-\_\-\-R\-\_\-\-B@{\-\_\-\-R\-\_\-\-B}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-R\-\_\-\-B}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-R\-\_\-\-B}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a69fbc25a2e2f2392fe0f92c5811c12dd}
\-Matrix $\mathbf{R}_B$ in the equation for the preview center of \-Bo\-S output matrix $\mathbf{R}_{k,N} = \left\{ \mathbf{r}_{k+1|k}, \mathbf{r}_{k+2|k}, \dots, \mathbf{r}_{k+N|k} \right\}$

\-For a preview window of size $N$\-:

\[ \mathbf{R}_{k,N} = \mathbf{R}_B \mathbf{\xi}_k + \mathbf{R}_B \mathcal{X}_{k,N} Where: \f[ \mathbf{R}_B = \left[\begin{array}{cccc} \mathbf{C}_B\mathbf{T} & 0 & \cdots & 0 \\ \mathbf{C}_B\mathbf{Q}\mathbf{T} & \mathbf{C}_B\mathbf{T} & \cdots & 0 \\ \vdots & \vdots & \ddots & \vdots \\ \mathbf{C}_B\mathbf{Q}^{N-1}\mathbf{T} & \mathbf{C}_B\mathbf{Q}^{N-2}\mathbf{T} & \cdots & \mathbf{C}_B\mathbf{T} \end{array}\right] \] \hypertarget{classMIQPController_a2207c17eb221166b1bc12fbca976035d}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-R\-\_\-\-H@{\-\_\-\-R\-\_\-\-H}}
\index{\-\_\-\-R\-\_\-\-H@{\-\_\-\-R\-\_\-\-H}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-R\-\_\-\-H}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-R\-\_\-\-H}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a2207c17eb221166b1bc12fbca976035d}
\-Input matrix $\mathbf{R}_H$ in the equation for the preview \-Co\-M output matrix $\mathbf{H}_{k,N} = \left\{ \mathbf{h}_{k+1|k}, \mathbf{h}_{k+2|k}, \dots, \mathbf{h}_{k+N|k} \right\}$.

\-For a preview window of size $N$\-: \[ \mathbf{H}_{k,N} = \mathbf{P}_H \mathbf{\xi}_k + \mathbf{R}_H \mathcal{X}_{k,N} \] \-Where\-: \[ \mathbf{R}_h = \left[\begin{array}{cccc} \mathbf{C}_H\mathbf{T} & 0 & \cdots & 0 \\ \mathbf{C}_H\mathbf{Q}\mathbf{T} & \mathbf{C}_H\mathbf{T} & \cdots & 0 \\ \vdots & \vdots & \ddots & \vdots \\ \mathbf{C}_H\mathbf{Q}^{N-1}\mathbf{T} & \mathbf{C}_H\mathbf{Q}^{N-2}\mathbf{T} & \cdots & \mathbf{C}_H\mathbf{T} \end{array}\right] \] \hypertarget{classMIQPController_a7cede44e7827c9b4b12f2549714f3adf}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-R\-\_\-\-P@{\-\_\-\-R\-\_\-\-P}}
\index{\-\_\-\-R\-\_\-\-P@{\-\_\-\-R\-\_\-\-P}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-R\-\_\-\-P}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-R\-\_\-\-P}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a7cede44e7827c9b4b12f2549714f3adf}
\-Matrix $\mathbf{R}_p$ in the equation for the preview \-Co\-P output matrix $\mathbf{P}_{k,N} = \left\{ \mathbf{p}_{k+1|k}, \mathbf{p}_{k+2|k}, \dots, \mathbf{p}_{k+N|k} \right\}$.

\-For a preview window of size $N$\-: \[ \mathbf{P}_{k,N} = \mathbf{P}_p \mathbf{\xi}_k + \mathbf{R}_p \mathcal{X}_{k,N} \]

\-Size\-: \mbox{[}2\-N $\ast$ 12\-N\mbox{]} \-Where\-: \[ \] \hypertarget{classMIQPController_a03735ecec3242cdfc9bf8a443c561724}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-robot\-Model@{\-\_\-robot\-Model}}
\index{\-\_\-robot\-Model@{\-\_\-robot\-Model}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-robot\-Model}]{\setlength{\rightskip}{0pt plus 5cm}ocra\-::\-Model\-::\-Ptr {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-robot\-Model}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a03735ecec3242cdfc9bf8a443c561724}
\hypertarget{classMIQPController_ada92fc35065a11b889019f2948c1888d}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-Sw@{\-\_\-\-Sw}}
\index{\-\_\-\-Sw@{\-\_\-\-Sw}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-Sw}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-Sw}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_ada92fc35065a11b889019f2948c1888d}
$S_w$ is a $6\times6$ diagonal weighting selection matrix, defining whether position, velocity and/or acceleration of the \-Co\-M are tracked in each of the two horizontal directions.

\begin{DoxyRefDesc}{\-Todo}
\item[\hyperlink{todo__todo000008}{\-Todo}]\-For the moment this has been hardcoded! \-Put it in configuration file. \end{DoxyRefDesc}
\hypertarget{classMIQPController_a1143455ae85d0e221578dbe5d659af1d}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-T@{\-\_\-\-T}}
\index{\-\_\-\-T@{\-\_\-\-T}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-T}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Matrix\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-T}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a1143455ae85d0e221578dbe5d659af1d}
\-Matrix $\mathbf{T}$ in preview state model\-:

\[ \mathbf{\xi}_{k+1|k} = \mathbf{Q} \xi_{k|k} + \mathbf{T}\mathcal{X}_{k+1|k} \]

\[ \mathbf{T} = \left[\begin{array}{cc} \mathbf{I}_{10\times10} & \mathbf{0}_{10\times2}\\ \mathbf{0}_{6\times10} & \mathbf{B_h}_{6\times2} \end{array}\right] \]

\begin{DoxySeeAlso}{\-See also}
\hyperlink{classMIQPController_a9a989875871a898f0ad19b441a2c67ba}{\-\_\-\-Bh} 
\end{DoxySeeAlso}
\hypertarget{classMIQPController_aa8407451ad8b20c814b12fef631f43f6}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-ub@{\-\_\-ub}}
\index{\-\_\-ub@{\-\_\-ub}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-ub}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Vector\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-ub}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_aa8407451ad8b20c814b12fef631f43f6}
\-Vector of upper bounds of the input vector $\mathcal{X}$ \hypertarget{classMIQPController_a2c3ddd93fd843a3a4650314b47436be7}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-variables\-Names@{\-\_\-variables\-Names}}
\index{\-\_\-variables\-Names@{\-\_\-variables\-Names}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-variables\-Names}]{\setlength{\rightskip}{0pt plus 5cm}std\-::string {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-variables\-Names}\mbox{[}{\bf \-I\-N\-P\-U\-T\-\_\-\-V\-E\-C\-T\-O\-R\-\_\-\-S\-I\-Z\-E}\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a2c3ddd93fd843a3a4650314b47436be7}
\hypertarget{classMIQPController_a1143bf95d61a348b08010c909b190029}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-vars@{\-\_\-vars}}
\index{\-\_\-vars@{\-\_\-vars}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-vars}]{\setlength{\rightskip}{0pt plus 5cm}\-G\-R\-B\-Var$\ast$ {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-vars}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a1143bf95d61a348b08010c909b190029}
\hypertarget{classMIQPController_a1fdfcba2c7b6422ac8d3b0b6095d7546}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-\-X\-\_\-kn@{\-\_\-\-X\-\_\-kn}}
\index{\-\_\-\-X\-\_\-kn@{\-\_\-\-X\-\_\-kn}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-\-X\-\_\-kn}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Vector\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-\-X\-\_\-kn}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_a1fdfcba2c7b6422ac8d3b0b6095d7546}
\-Solution $\mathcal{X_{k,N}}$ of the \-M\-I\-Q\-P problem \hypertarget{classMIQPController_ad1c63725dab2ce84382fcb0b071325ed}{\index{\-M\-I\-Q\-P\-Controller@{\-M\-I\-Q\-P\-Controller}!\-\_\-xi\-\_\-k@{\-\_\-xi\-\_\-k}}
\index{\-\_\-xi\-\_\-k@{\-\_\-xi\-\_\-k}!MIQPController@{\-M\-I\-Q\-P\-Controller}}
\subsubsection[{\-\_\-xi\-\_\-k}]{\setlength{\rightskip}{0pt plus 5cm}\-Eigen\-::\-Vector\-Xd {\bf \-M\-I\-Q\-P\-Controller\-::\-\_\-xi\-\_\-k}\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{classMIQPController_ad1c63725dab2ce84382fcb0b071325ed}


\-The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
ocra-\/wbi-\/plugins/ocra-\/icub-\/clients/walking-\/client/include/walking-\/client/\hyperlink{MIQPController_8h}{\-M\-I\-Q\-P\-Controller.\-h}\item 
ocra-\/wbi-\/plugins/ocra-\/icub-\/clients/walking-\/client/src/\hyperlink{MIQPController_8cpp}{\-M\-I\-Q\-P\-Controller.\-cpp}\end{DoxyCompactItemize}
